

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>8. Design Notes &mdash; Patro 0.3.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="static/css/Patro.css" type="text/css" />
  <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="9. API Documentation" href="reference-manual.html" />
    <link rel="prev" title="7. User FAQ" href="faq.html" /> 

  
  <script src="static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Patro
          

          
            
            <img src="static/logo-64.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">1. Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="overview.html#what-is-patro">1.1. What is Patro ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#what-is-the-purpose-of-this-library">1.2. What is the purpose of this library ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#what-are-the-features-of-patro">1.3. What are the Features of Patro ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#how-is-patro-licensed">1.4. How is Patro licensed ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#going-further-with-patro">1.5. Going further with Patro</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#which-platforms-are-supported-by-patro">1.6. Which platforms are supported by Patro ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#how-to-install-patro">1.7. How to install Patro ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#which-version-of-python-is-required">1.8. Which version of Python is required ?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="features-all.html">2. Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="features-all.html#geometry-engine">2.1. Geometry Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="features-all.html#pattern-engine">2.2. Pattern Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="features-all.html#graphic-engine">2.3. Graphic Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="features-all.html#pattern-format-support">2.4. Pattern Format Support</a><ul>
<li class="toctree-l3"><a class="reference internal" href="features-all.html#pattern-format-compatibility">2.4.1. Pattern Format Compatibility</a><ul>
<li class="toctree-l4"><a class="reference internal" href="valentina-compatibility/index.html">2.4.1.1. Valentina Compatibility</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="features-all.html#digitalisation">2.5. Digitalisation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="news.html">3. News</a><ul>
<li class="toctree-l2"><a class="reference internal" href="news.html#v0-2017-02-16">3.1. V0 2017-02-16</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">4. Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">5. Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#on-windows">5.1. On Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#on-linux">5.2. On Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#on-osx">5.3. On OSX</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#installation-from-pypi-repository">5.4. Installation from PyPi Repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#install-a-more-recent-version-from-github">5.5. Install a more recent version from Github</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#installation-from-source">5.6. Installation from Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#dependencies">5.7. Dependencies</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">6. Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">7. User FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-to-get-help-or-report-an-issue">7.1. How to get help or report an issue ?</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">8. Design Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#what-is-my-opinion-on-valentina-seamly2d">8.1. What is my opinion on Valentina / Seamly2D ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#can-we-implement-such-a-tool-as-a-plugin-of-another-software">8.2. Can we implement such a tool as a plugin of another software ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-is-the-requirements-of-a-pattern-drafting-software">8.3. What is the requirements of a pattern drafting software ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#why-python-is-a-good-language-for-this-library">8.4. Why Python is a good language for this library ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#could-we-implement-a-full-software-using-python">8.5. Could we implement a full software using Python ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-generate-drawings-in-standard-format-like-pdf-or-svg">8.6. How to generate drawings in standard format like PDF or SVG ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-is-the-requirements-of-a-geometric-engine">8.7. What is the requirements of a geometric engine ?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference-manual.html">9. API Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reference-manual.html#indexes">9.1. Indexes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="development.html">10. Development &amp; Community</a><ul>
<li class="toctree-l2"><a class="reference internal" href="development.html#how-you-can-help">10.1. How you can help ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="development.html#contributors">10.2. Contributors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="how-to-refer.html">11. How to Refer to Patro ?</a></li>
<li class="toctree-l1"><a class="reference internal" href="donate.html">12. How to Help Further ?</a></li>
<li class="toctree-l1"><a class="reference internal" href="related-projects.html">13. Related Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">14. Bibliography</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Patro</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>8. Design Notes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/design-notes.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="design-notes">
<span id="design-note-page"></span><h1>8. Design Notes<a class="headerlink" href="#design-notes" title="Permalink to this headline">¶</a></h1>
<p>Originally, Patro was a Python implementation of the Valentina pattern making software, which only
focus to implement the core engine and not the graphical user interface.</p>
<p>A pattern (in flat pattern design) is build from geometric operations which can be turned to a
computer program and is thus a field of applications of CAD (Computer Aided Design).  It corresponds
more precisely to parametric modelling with dedicated features to fashion modelling and
manufacturing.</p>
<div class="section" id="what-is-my-opinion-on-valentina-seamly2d">
<h2>8.1. What is my opinion on Valentina / Seamly2D ?<a class="headerlink" href="#what-is-my-opinion-on-valentina-seamly2d" title="Permalink to this headline">¶</a></h2>
<p>Valentina project was started in 2013 by Roman Telezhinsky (Ukraine) as C++ developer and Susan
Spencer (USA) as community manager.  Susan previously developed an Inkscape Python plugin to
generate pattern, see <a class="reference external" href="http://www.taumeta.org">http://www.taumeta.org</a>.</p>
<p>In late 2017 (see <a class="reference external" href="http://libregraphicsworld.org/blog/entry/valentina-seamly2d">http://libregraphicsworld.org/blog/entry/valentina-seamly2d</a>), Susan and Roman
decided to fork the project in two separate projects.  Susan renamed the project to Seamly2D.  In
August 2018, <a class="reference external" href="https://valentinaproject.bitbucket.io">Valentina</a> is still but slowly developed by
Roman and <a class="reference external" href="https://github.com/FashionFreedom/Seamly2D">Seamly2D</a> looks like a dead project.  Roman
seems disconnected with the user community and Susan seems unable to do something excepted making
noises and complaining about Roman (cf. Seamly2D forum and a lot of nearly empty web site etc.).  In
summary, it could be Roman is not the perfect developer boy, but it coded a lot of lines of code and
released a free software parametric pattern making software.  Concerning Susan, many things are
unclear on their past relations, what she did / doing, what is her vision, on is ability to
communicate, manage and technical expertise.</p>
<p>Valentina is coded in C++ and use the Qt framework.  Qt is definitely the best choice for a GUI
actually.  Notice Valentina uses Qt4 Widgets and Scene Graph, thus it could require a costly upgrade
to Qt5 QML (which is a common upgrade issue).  The GUI of Valentina represents a huge cost, probably
the main part of Valentina.</p>
<p>Actually Valentina has some design flaws, which is usual for a young project developed with a few
budget.</p>
<p>For example, since Valentina is designed as a kind of WYSIWYG software, we cannot modify a pattern
to a temporally inconsistent state.  For example Valentina will not accept to have a line defined by
point that don’t exist anymore.  For a computer program, your are free to save something which is
broken and fix things later.  However for a GUI parametric modeller this flexibility is more
challenging.  Software like Fusion 360 implements a cache for dangling objects.</p>
</div>
<div class="section" id="can-we-implement-such-a-tool-as-a-plugin-of-another-software">
<h2>8.2. Can we implement such a tool as a plugin of another software ?<a class="headerlink" href="#can-we-implement-such-a-tool-as-a-plugin-of-another-software" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://inkscape.org">Inkscape</a> is a well known free software SVG editor which support Python
scripting and plugin.  However it is not designed for CAD purpose and not for professional use
actually.  This solution is thus flawed.</p>
<p><a class="reference external" href="http://freecadweb.org">FreeCAD</a> is a free software 3D parametric modeller designed for CAD which
also support Python.  This solution could be an option, in particular to implement 3D features.
However a 3D CAD software is very complex and challenging, moreover it is not competitive with
professional software which are available for “free” in some conditions, thus this solution is
risky.</p>
</div>
<div class="section" id="what-is-the-requirements-of-a-pattern-drafting-software">
<h2>8.3. What is the requirements of a pattern drafting software ?<a class="headerlink" href="#what-is-the-requirements-of-a-pattern-drafting-software" title="Permalink to this headline">¶</a></h2>
<p>The core functionality of a CAD system for pattern drafting consists of these two software components :</p>
<ul class="simple">
<li>an <strong>open</strong> file format to store and exchange the pattern,</li>
<li>a geometric engine to compute the pattern, e.g. to generate the layout of each fabric’s piece of a garment.</li>
</ul>
<p>The XML language is a natural candidate to define an open file format to store and exchange the
pattern. Valentina uses XML to sore measurements in <em>.vit</em> files and patterns in <em>.val</em> files.</p>
<p>Another solution to define and store a pattern is to use a programming language, it can be a
dedicated language or any programming language with a dedicated API.  Many graphical languages was
invented for specific usages, e.g. PostScript for printer, Metafont and MetaPost for publishing,
G-code for machining etc.</p>
<p>Usually the geometric operations of a pattern are simple in comparison to the requirements of a
mechanical or electronic CAD software.  In first hand it is only 2D and the number of operations
should be handled smoothly by a computer of these days, whereas it is still challenging for other
domains.</p>
<p>Finally, a pattern drafting software requires an efficient graphical user interface so as to be used
by fashion designers and not only by hackers.  This software component is more challenging in therms
of software engineering, i.e. in therms of design and cost.</p>
</div>
<div class="section" id="why-python-is-a-good-language-for-this-library">
<h2>8.4. Why Python is a good language for this library ?<a class="headerlink" href="#why-python-is-a-good-language-for-this-library" title="Permalink to this headline">¶</a></h2>
<p>The Python language has a large audience in engineering, due to its canonical syntax and richness of
its ecosystem (scientific libraries).</p>
<p>Python is a high level language and thus more productive.</p>
<p>Python is used as scripting language to extend many softwares, in particular the famous open source
3D creation suite <a class="reference external" href="https://www.blender.org">Blender</a>, the parametric 3D modeller <a class="reference external" href="http://freecadweb.org">FreeCad</a> as well as the SVG editor <a class="reference external" href="https://inkscape.org/">Inkscape</a>.  Moreover
the 3D human model generator <a class="reference external" href="http://www.makehuman.org">MakeHuman</a> is written in Python.</p>
<p>Python can be easily extended by C libraries using <a class="reference external" href="http://cffi.readthedocs.io/en/latest">CFFI</a>
and C++ libraries using <a class="reference external" href="http://www.swig.org">SWIG</a>.</p>
<p>Python as other dynamic languages is able to evaluate code on the fly which provide an expression
evaluator for free.  This feature is even more pertinent in our case because of the canonical
nature of the syntax of Python which is natural to somebody initiated to a basic mathematical
language level.</p>
</div>
<div class="section" id="could-we-implement-a-full-software-using-python">
<h2>8.5. Could we implement a full software using Python ?<a class="headerlink" href="#could-we-implement-a-full-software-using-python" title="Permalink to this headline">¶</a></h2>
<p>The answer is <em>yes we can!</em> since <a class="reference external" href="https://www.qt.io">Qt</a> has as an official binding and another excellent one,
<a class="reference external" href="https://riverbankcomputing.com/software/pyqt/intro&gt;">PyQt</a>.</p>
<p>But up to now Python has of course some drawbacks!</p>
<p>Its main drawback is due to the fact the standard interpreter cannot execute more than one <em>Python
bytecode</em> thread at once, this limitation so called Global Interpreter Lock is required for
implementation simplicity.</p>
<p>Despite a GUI implemented in PyQt is almost of the time more faster than the human perception on a
computer of these days.  It can be sometime difficult to overcome latency arising from the software
stack.  Thus yes we can do it, but it could requires some tricks to achieve the performance of a C++
application.</p>
</div>
<div class="section" id="how-to-generate-drawings-in-standard-format-like-pdf-or-svg">
<h2>8.6. How to generate drawings in standard format like PDF or SVG ?<a class="headerlink" href="#how-to-generate-drawings-in-standard-format-like-pdf-or-svg" title="Permalink to this headline">¶</a></h2>
<p>SVG is not difficult to generate from Python since it is based on XML.  However the PDF format is
more challenging, for efficiency reason PDF is a binary format and is thus much more complicated
than PostScript which is a true programming language.</p>
<p>There is several possibilities to generate PDF.</p>
<p>The most disturbing one is to use the <a class="reference external" href="https://en.wikipedia.org/wiki/LaTeX">LaTeX</a> publishing
system in combination with the <a class="reference external" href="http://www.texample.net/tikz/examples">PGF</a> package which provide
an amazing graphical language on top of LaTeX.  This solution could terrify many peoples, but it do
the job very well for text and graphics.  However user must install a LaTeX environment from their
Linux distribution or using the <a class="reference external" href="https://www.tug.org/texlive">TexLive</a> distribution.</p>
<p>A more conventional solution requires a library that can generate PDF from standard graphical
operations.  Some libraries featuring that are :</p>
<ul class="simple">
<li><a class="reference external" href="https://www.reportlab.com/opensource">Reportlab</a>  open-source PDF Toolkit (more commercial and less known)</li>
<li>Qt using QPainter API, Valentina solution, see <a class="reference external" href="https://wiki.qt.io/Handling_PDF">https://wiki.qt.io/Handling_PDF</a></li>
<li><a class="reference external" href="https://www.cairographics.org/manual/cairo-PDF-Surfaces.html">Cairo</a></li>
<li><a class="reference external" href="https://matplotlib.org">Matplotlib</a> (but more oriented to plot)</li>
<li>and ???</li>
</ul>
</div>
<div class="section" id="what-is-the-requirements-of-a-geometric-engine">
<h2>8.7. What is the requirements of a geometric engine ?<a class="headerlink" href="#what-is-the-requirements-of-a-geometric-engine" title="Permalink to this headline">¶</a></h2>
<p>The requirements for a geometric engine are :</p>
<ul class="simple">
<li>Must support 2D, but 3D is not required</li>
<li>Must handle smoothly a low complexity graphic scene, i.e. a pattern will never contains thousands of graphical entities like in mechanic or electronic PCB</li>
<li>Required precision is low : a millimetre unit with one digit of precision is enough for pattern
accuracy.  However we need more digits for computing so as to don’t accumulate errors and for
computer display so as to zoom correctly the pattern (e.g. 3 digits to zoom up to 100x).</li>
<li>Is exact numerical computation useful in our case ? cf. Computational Geometry Algorithms Library (CGAL)</li>
<li>We could support symbolic computation, excepted when a computation is only numerical.</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="reference-manual.html" class="btn btn-neutral float-right" title="9. API Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="faq.html" class="btn btn-neutral" title="7. User FAQ" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Fabrice Salvaire

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="static/documentation_options.js"></script>
        <script type="text/javascript" src="static/jquery.js"></script>
        <script type="text/javascript" src="static/underscore.js"></script>
        <script type="text/javascript" src="static/doctools.js"></script>
        <script type="text/javascript" src="static/language_data.js"></script>
        <script type="text/javascript" src="static/getthecode.js"></script>
    

  

  <script type="text/javascript" src="static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>